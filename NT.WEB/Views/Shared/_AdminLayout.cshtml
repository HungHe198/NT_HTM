@{
    Layout = null;
}
@* PSEUDOCODE / PLAN:
   - Replace hardcoded href attributes with Razor tag-helper attributes (asp-controller, asp-action).
   - For each anchor currently using a path like "/X/Y" map to asp-controller="X" and asp-action="Y".
   - Preserve classes, icons and texts.
   - Keep the first link marked as active; other links remain non-active (you can add logic later to set active dynamically).
   - Ensure tag helpers are used so routing will generate correct URLs based on routing configuration.
*@

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Admin Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
    <style>
        html, body { height: 100%; }
        body { background: #f9fafb; display: flex; flex-direction: column; min-height: 100vh; }
        .sidebar { min-width: 220px; background: #fff; height: 100vh; }
        .sidebar .nav-link.active { background: #f4f6fb; color: #1976d2; }
        .sidebar .nav-link { color: #637381; }
        .sidebar .nav-link i { margin-right: 10px; }
        .content { padding: 2rem; }
        .topbar { background: #fff; padding: 1rem 2rem; border-bottom: 1px solid #f0f0f0; }
        main.content { flex: 1 0 auto; }
    </style>
</head>
<body>
    <div class="d-flex flex-grow-1">
        <!-- Sidebar -->
        <nav class="sidebar d-flex flex-column p-3">
            <a href="/" class="mb-4 text-decoration-none">
                <img src="/images/logo.png" alt="Logo" style="height:32px;">
            </a>
            <div class="mb-4">
                <div class="fw-bold">Team 1 <span class="badge bg-light text-dark">Free</span></div>
            </div>
            <ul class="nav nav-pills flex-column mb-auto">
                <li><a asp-controller="Admin"       asp-action="Index" class="nav-link active"><i class="fa fa-chart-line"></i>Th?ng Kê</a></li>
                <li><a asp-controller="Admin"       asp-action="Index" class="nav-link"><i class="fa fa-user"></i>Tài Kho?n</a></li>
                <li><a asp-controller="Admin"       asp-action="Index" class="nav-link"><i class="fa fa-user"></i>Phân Quy?n</a></li>
                <li><a asp-controller="Product"     asp-action="Index" class="nav-link"><i class="fa fa-box"></i>S?n Ph?m</a></li>
                <li><a asp-controller="Orders"      asp-action="Index" class="nav-link"><i class="fa fa-receipt"></i>??n hàng</a></li>
                <li><a asp-controller="Admin"       asp-action="Index" class="nav-link"><i class="fa fa-blog"></i>Bán Hàng T?i Qu?y</a></li>
                <li><a asp-controller="Voucher"       asp-action="Index" class="nav-link"><i class="fa fa-blog"></i>Mã Gi?m Giá</a></li>
                <li><a asp-controller="PaymentMethods" asp-action="Index" class="nav-link"><i class="fa fa-blog"></i>Ph??ng Th?c Thanh Toán</a></li>
                <li><a asp-controller="Brand"       asp-action="Index" class="nav-link"><i class="fa fa-blog"></i>Nhà S?n Xu?t</a></li>  
                <li><a asp-controller="OriginCountry"       asp-action="Index" class="nav-link"><i class="fa fa-blog"></i>N?i S?n Xu?t</a></li>                 
                <li><a asp-controller="Account"     asp-action="Index" class="nav-link"><i class="fa fa-sign-in-alt"></i>Sign in</a></li>
                <li><a asp-controller="NotFound"    asp-action="Index" class="nav-link"><i class="fa fa-ban"></i>Not found</a></li>
            </ul>
      @*       <div class="mt-auto">
                <div class="text-muted small mb-2">More features?</div>
                <a href="#" class="btn btn-outline-primary w-100 mb-2">Upgrade to Pro</a>
            </div> *@
        </nav>
        <!-- Main Content -->
        <div class="flex-grow-1">
            <!-- Topbar -->
            <div class="topbar d-flex justify-content-end align-items-center">
                <div class="me-3">
                    <i class="fa fa-search"></i>
                </div>
                @* <div class="me-3">
                    <img src="/images/flag-uk.png" alt="EN" style="height:20px;">
                </div> *@
                @* <div class="me-3 position-relative">
                    <i class="fa fa-bell"></i>
                    <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">2</span>
                </div> *@
                @{
                    var errorMsg = TempData["Error"] as string;
                    var hasAnyMsg = !string.IsNullOrWhiteSpace(errorMsg);
                }
                <div class="dropdown me-3">
                    <button class="btn btn-sm btn-outline-secondary position-relative" type="button" data-bs-toggle="dropdown" aria-expanded="false" title="Thông báo">
                        <i class="fa fa-bell"></i>
                        @if (hasAnyMsg)
                        {
                            <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">!</span>
                        }
                    </button>
                    <ul class="dropdown-menu dropdown-menu-end p-0" style="min-width: 320px;">
                        <li class="p-2 border-bottom fw-semibold">Thông báo l?i</li>
                        @if (hasAnyMsg)
                        {
                            <li><div class="px-3 py-2 small text-danger">@errorMsg</div></li>
                        }
                        else
                        {
                            <li><div class="px-3 py-2 small text-muted">Không có l?i</div></li>
                        }
                    </ul>
                </div>
                <div>
                    <img src="/images/avatar.png" alt="User" class="rounded-circle" style="height:32px;">
                </div>
            </div>
            <!-- Page Content -->
            <main class="content">
                @RenderBody()
            </main>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    @RenderSection("Scripts", required: false)
</body>
</html>